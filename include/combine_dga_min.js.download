function iec_original(_){return H2=_.H2,CH4=_.CH4,C2H6=_.C2H6,C2H4=_.C2H4,C2H2=_.C2H2,0!=H2&&0!=C2H4&&0!=C2H6?(r1=C2H2/C2H4,r2=CH4/H2,r3=C2H4/C2H6):(r1=0,r2=0,r3=0),r1<.1?r1_c=0:r1>=.1&&r1<3?r1_c=1:r1_c=2,r2<.1?r2_c=1:r2>=.1&&r2<1?r2_c=0:r2_c=2,r3<1?r3_c=0:r3>=1&&r3<3?r3_c=1:r3_c=2,0==r1_c&&0==r2_c&&0==r3_c?(fault_no=0,fault_code="N/A"):0==r1_c&&1==r2_c&&0==r3_c?(fault_no=1,fault_code="PD"):1==r1_c&&1==r2_c&&0==r3_c?(fault_no=2,fault_code="PD"):1!=r1_c&&2!=r1_c||0!=r2_c||1!=r3_c&&2!=r3_c?1==r1_c&&0==r2_c&&2==r3_c?(fault_no=4,fault_code="D2"):0==r1_c&&0==r2_c&&1==r3_c?(fault_no=5,fault_code="T1"):0==r1_c&&2==r2_c&&0==r3_c?(fault_no=6,fault_code="T1"):0==r1_c&&2==r2_c&&1==r3_c?(fault_no=7,fault_code="T2"):0==r1_c&&2==r2_c&&2==r3_c?(fault_no=8,fault_code="T3"):(fault_no=9,fault_code="N/A"):(fault_no=3,fault_code="D1"),diag_vector={Code:fault_code,Type:fault_no},diag_vector}function roger_original(_){return H2=Number(_.H2),CH4=Number(_.CH4),C2H6=Number(_.C2H6),C2H4=Number(_.C2H4),C2H2=Number(_.C2H2),0!=H2&&0!=CH4&&0!=C2H4&&0!=C2H6?(r1=CH4/H2,r2=C2H6/CH4,r3=C2H4/C2H6,r4=C2H2/C2H4):(r1=0,r2=0,r3=0,r4=0),r1<=.1?r1_c=5:r1>.1&&r1<1?r1_c=0:r1>=1&&r1<3?r1_c=1:r1_c=2,r2<1?r2_c=0:r2_c=1,r3<1?r3_c=0:r3>=1&&r2<3?r3_c=1:r3_c=2,r4<.5?r4_c=0:r4>=.5&&r4<3?r4_c=1:r4_c=2,0==r1_c&&0==r2_c&&0==r3_c&&0==r4_c?(fault_no=0,fault_code="N"):5==r1_c&&0==r2_c&&0==r3_c&&0==r4_c?(fault_no=1,fault_code="PD"):1!=r1_c&&2!=r1_c||0!=r2_c||0!=r3_c||0!=r4_c?1!=r1_c&&2!=r1_c||1!=r2_c||0!=r3_c||0!=r4_c?0==r1_c&&1==r2_c&&0==r3_c&&0==r4_c?(fault_no=4,fault_code="T1"):0==r1_c&&0==r2_c&&1==r3_c&&0==r4_c?(fault_no=5,fault_code="T2"):1==r1_c&&0==r2_c&&1==r3_c&&0==r4_c?(fault_no=6,fault_code="T2"):1==r1_c&&0==r2_c&&2==r3_c&&0==r4_c?(fault_no=7,fault_code="T3"):0==r1_c&&0==r2_c&&0==r3_c&&1==r4_c?(fault_no=8,fault_code="D1"):0!=r1_c||0!=r2_c||1!=r3_c&&2!=r3_c||1!=r4_c&&2!=r4_c?0==r1_c&&0==r2_c&&2==r3_c&&2==r4_c?(fault_no=10,fault_code="D2"):5!=r1_c||0!=r2_c||0!=r3_c||1!=r4_c&&2!=r4_c?(fault_no=12,fault_code="N/A"):(fault_no=11,fault_code="PD"):(fault_no=9,fault_code="D2"):(fault_no=3,fault_code="T1"):(fault_no=2,fault_code="T1"),diag_vector={Code:fault_code,Type:fault_no},diag_vector}function inside(_,r){for(var t=_[0],u=_[1],m=.995*t,c=.995*u,a=.995*t,y=1.005*u,H=1.005*t,n=.995*u,o=1.005*t,i=1.005*u,p=!1,C=0,f=r.length-1;C<r.length;f=C++){var e=r[C][0],d=r[C][1],l=r[f][0],M=r[f][1];(d>u!=M>u&&t<(l-e)*(u-d)/(M-d)+e||d>c!=M>c&&m<(l-e)*(u-d)/(M-d)+e||d>y!=M>y&&a<(l-e)*(u-d)/(M-d)+e||d>n!=M>n&&H<(l-e)*(u-d)/(M-d)+e||d>i!=M>i&&o<(l-e)*(u-d)/(M-d)+e)&&(p=!p)}return p}function duval_triangle_1(_){H2=Number(_.H2),CH4=Number(_.CH4),C2H6=Number(_.C2H6),C2H4=Number(_.C2H4),C2H2=Number(_.C2H2),CH4+C2H2+C2H4!=0?(x=100*C2H2/(CH4+C2H2+C2H4),y=100*C2H4/(CH4+C2H2+C2H4),z=100*CH4/(CH4+C2H2+C2H4)):(x=0,y=0,z=0,fault="N"),Px=y+.5*z,Py=z*Math.cos(Math.PI/6),point=[Px,Py];var r=[[0,0],[43.5,75.3442101292462],[55,55.4256258422041],[23,0]],t=[[23,0],[55,55.4256258422041],[63.5,40.7031939778686],[55.5,26.8467875173176],[71,0]],u=[[71,0],[55.5,26.8467875173176],[63.5,40.7031939778686],[43.5,75.3442101292462],[48,83.1384387633061],[73,39.8371685740842],[67.5,30.3108891324554],[85,0]],m=[[49,84.870489570875],[50,86.6025403784439],[51,84.870489570875]],c=[[60,69.2820323027551],[58,65.8179306876173],[48,83.1384387633061],[49,84.870489570875],[51,84.870489570875]],a=[[75,43.3012701892219],[73,39.8371685740842],[58,65.8179306876173],[60,69.2820323027551]],H=[[85,0],[67.5,30.3108891324554],[75,43.3012701892219],[100,0]];diag_output={PD:inside(point,m),D1:inside(point,r),D2:inside(point,t),T1:inside(point,c),T2:inside(point,a),T3:inside(point,H),DT:inside(point,u)};return fault=(_=>Object.keys(_).find(r=>!0===_[r]))(diag_output),diag_vector={Code:fault,Point_plot:point},diag_vector}function duval_pentagon_1(_){H2=Number(_.H2),CH4=Number(_.CH4),C2H6=Number(_.C2H6),C2H4=Number(_.C2H4),C2H2=Number(_.C2H2),T=H2+CH4+C2H6+C2H4+C2H2,GAS=[],GAS_ALPHA_X=[],GAS_ALPHA_Y=[],x=[],y=[],CH4+C2H2+C2H4+H2+C2H6!=0?(GAS[0]=100*H2/T,GAS[1]=100*C2H6/T,GAS[2]=100*CH4/T,GAS[3]=100*C2H4/T,GAS[4]=100*C2H2/T):(GAS[0]=0,GAS[1]=0,GAS[2]=0,GAS[3]=0,GAS[4]=0,fault="N"),GAS_DEG=[90,162,-126,-54,18];for(let _=0;_<GAS_DEG.length;_++)GAS_ALPHA_X[_]=GAS_DEG[_]*(Math.PI/180),GAS_ALPHA_Y[_]=(90-GAS_DEG[_])*(Math.PI/180),x[_]=GAS[_]*Math.cos(GAS_ALPHA_X[_]),y[_]=GAS[_]*Math.cos(GAS_ALPHA_Y[_]);poly_xy=[[x[0],y[0]],[x[1],y[1]],[x[2],y[2]],[x[3],y[3]],[x[4],y[4]]],A_mid=0,Cx_mid=0,Cy_mid=0;for(let _=0;_<GAS_DEG.length-1;_++)A_mid+=x[_]*y[_+1]-x[_+1]*y[_],Cx_mid+=(x[_]+x[_+1])*(x[_]*y[_+1]-x[_+1]*y[_]),Cy_mid+=(y[_]+y[_+1])*(x[_]*y[_+1]-x[_+1]*y[_]);A=.5*A_mid,Cx=Cx_mid/(6*A),Cy=Cy_mid/(6*A),point=[Cx,Cy];diag_output={PD:inside(point,[[-1,24.5],[-1,33],[0,33],[0,24.5]]),D1:inside(point,[[0,40],[38,12],[32,-6],[4,16],[0,1.5]]),D2:inside(point,[[4,16],[32,-6],[24,-30],[-1,-2]]),T1:inside(point,[[-22.5,-32],[-35,3],[0,1.5],[-1,-2],[-6,-4]]),T2:inside(point,[[1,-32],[-22.5,-32],[-6,-4]]),T3:inside(point,[[24,-30],[23.2,-32],[1,-32],[-6,-4],[-1,-2]]),S:inside(point,[[-35,3],[-38,12],[0,40],[0,33],[-1,33],[-1,24.5],[0,24.5],[0,1.5]])};return fault=(_=>Object.keys(_).find(r=>!0===_[r]))(diag_output),diag_vector={Code:fault,Point_plot:point},diag_vector}function zmf(_,r,t){return f=_<=r?1:_>=r&&_<=(r+t)/2?1-2*Math.pow((_-r)/(t-r),2):_<=t&&_>=(r+t)/2?2*Math.pow((_-t)/(t-r),2):0,f}function smf(_,r,t){return f=_<=r?0:_>=r&&_<=(r+t)/2?2*Math.pow((_-r)/(t-r),2):_<=t&&_>=(r+t)/2?1-2*Math.pow((_-t)/(t-r),2):1,f}function pimf(_,r,t,u,m){return f=_<=r?0:_>=r&&_<=(r+t)/2?2*Math.pow((_-r)/(t-r),2):_<=t&&_>=(r+t)/2?1-2*Math.pow((_-t)/(t-r),2):_>=t&&_<=u?1:_>=u&&_<=(u+m)/2?1-2*Math.pow((_-u)/(m-u),2):_<=m&&_>=(u+m)/2?2*Math.pow((_-m)/(m-u),2):0,f}function frp(_){H2=_.H2,CH4=_.CH4,C2H6=_.C2H6,C2H4=_.C2H4,C2H2=_.C2H2,0!=H2&&0!=C2H4&&0!=C2H6?(r1=C2H2/C2H4,r2=CH4/H2,r3=C2H4/C2H6):(r1=0,r2=0,r3=0),muy_r10=zmf(r1,.3,.7),muy_r11=pimf(r1,.3,.7,2.8,3.2),muy_r12=pimf(r1,2.8,3.2,9.8,10.2),muy_r13=smf(r1,9.8,10.2),muy_r20=pimf(r2,0,.4,.8,1.2),muy_r21=zmf(r2,0,.4),muy_r22=pimf(r2,.8,1.2,2.8,3.2),muy_r23=smf(r2,2.8,3.2),muy_r30=zmf(r3,.8,1.2),muy_r31=pimf(r3,.8,1.2,2.8,3.2),muy_r32=smf(r3,2.8,3.2);const r=[];r[0]=Math.min(muy_r10,muy_r20,muy_r30),r[1]=Math.min(Math.max(muy_r10,muy_r11),muy_r21),d11=Math.min(muy_r11,muy_r21,muy_r30),d12=Math.min(Math.max(muy_r10,muy_r11),muy_r21,muy_r31),d13=Math.min(muy_r11,Math.max(muy_r20,muy_r22,muy_r23),Math.max(muy_r30,muy_r31)),d14=Math.min(muy_r12,Math.max(muy_r20,muy_r21,muy_r22),muy_r31),r[2]=Math.max(d11,d12,d13,d14),d21=Math.min(Math.max(muy_r10,muy_r11),muy_r21,muy_r32),d22=Math.min(muy_r11,Math.max(muy_r20,muy_r22,muy_r23),muy_r32),d23=Math.min(muy_r12,Math.max(muy_r20,muy_r21,muy_r22),Math.max(muy_r30,muy_r32)),d24=muy_r13,r[3]=Math.max(d21,d22,d23,d24),t11=Math.min(muy_r10,muy_r20,muy_r31),t12=Math.min(muy_r10,Math.max(muy_r22,muy_r23),muy_r30),t13=Math.min(muy_r12,muy_r23,muy_r30),r[4]=Math.max(t11,t12,t13),t21=Math.min(muy_r10,Math.max(muy_r22,muy_r23),muy_r31),t22=Math.min(muy_r12,muy_r23,muy_r31),r[5]=Math.max(t21,t22),t31=Math.min(muy_r10,muy_r20,muy_r32),t32=Math.min(muy_r10,Math.max(muy_r22,muy_r23),muy_r32),t33=Math.min(muy_r12,muy_r23,muy_r32),r[6]=Math.max(t31,t32,t33),t=H2+CH4+C2H6+C2H4+C2H2,0!=t?(p1=100*H2/t,p2=100*CH4/t,p3=100*C2H6/t,p4=100*C2H4/t,p5=100*C2H2/t):(p1=0,p2=0,p3=0,p4=0,p5=0),muy_p1L=zmf(p1,0,10),muy_p1M=pimf(p1,0,10,15,25),muy_p1H=smf(p1,15,25),muy_p2L=zmf(p2,0,10),muy_p2M=pimf(p2,0,10,15,25),muy_p2H=smf(p2,15,25),muy_p3L=zmf(p3,0,10),muy_p3M=pimf(p3,0,10,15,25),muy_p3H=smf(p3,15,25),muy_p4L=zmf(p4,0,10),muy_p4M=pimf(p4,0,10,15,25),muy_p4H=smf(p4,15,25),muy_p5L=zmf(p5,0,10),muy_p5M=pimf(p5,0,10,15,25),muy_p5H=smf(p5,15,25);const u=[];u[0]=Math.min(muy_p1L,muy_p2L,muy_p3L,muy_p4L,muy_p5L),u[1]=Math.min(muy_p1H,Math.max(muy_p3L,muy_p3M),muy_p4L,muy_p5L),u[2]=Math.min(Math.max(muy_p1M,muy_p1H),muy_p5M),u[3]=muy_p5H,u[4]=Math.min(muy_p3H,muy_p4L,muy_p5L),u[5]=Math.min(Math.max(muy_p4M,muy_p4H),muy_p5L),u[6]=Math.min(muy_p3L,muy_p4H,muy_p5L);const m=[];sum_Fr=0,sum_Fp=0;for(let _=0;_<r.length;_++)sum_Fr+=r[_],sum_Fp+=u[_];for(let _=0;_<r.length;_++)m[_]=Math.round(50*(r[_]/sum_Fr+u[_]/sum_Fp));const c=[];c[0]="N",c[1]="PD",c[2]="D1",c[3]="D2",c[4]="T1",c[5]="T2",c[6]="T3",str="",str_f="";for(let _=0;_<r.length;_++)str_f=str_f.concat(c[_]," (",m[_],"%) "),m[_]>=10&&(str=str.concat(c[_]," (",m[_],"%) "));return diag_vector={Vec_r:r,Vec_p:u,Vec_f:m,Code:str},diag_vector}